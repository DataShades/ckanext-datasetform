{% import 'macros/form.html' as form %}

<section id="dataset-contact" class="dataset-contact">
    <h3>{{ _('Contact Maintainer') }}</h3>
    <form class="form" action="/dataset/{{ pkg_name }}/contact" method="POST">
        <div class="form-controls">
            {% if not data %}
                {% set name = userobj.fullname if userobj.fullname else userobj.name %}
            {% else %}
                {% set name = data.name %}
            {% endif %}
            {{ form.input('name', label=_('Your Name'), id='field-name', value=name, error=errors.name, classes=['control-medium'], is_required=true) }}

            {% set email = data.email if data else userobj.email %}
            {{ form.input('email', label=_('Your Email'), id='field-email', value=email, error=errors.email, classes=['control-medium'], is_required=true) }}

            {{ form.input('subject', label=_('Subject'), id='field-subject', value=data.subject, error=errors.subject, classes=['control-medium'], is_required=true) }}

            {{ form.textarea('message', label=_('Your Message'), id='field-message', value=data.message, error=errors.message, classes=['control-full'], is_required=true) }}
        </div>
        <div class="form-actions">
            {{ form.required_message() }}
            <input type="submit" class="btn-primary" value="{{ _('Send') }}"/>
            <input type="reset" class="btn-secondary" value="{{ _('Clear') }}"/>
        </div>
    </form>
</section>
